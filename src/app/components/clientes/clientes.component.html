<div class="container">

  <h1 class="title">GestiÃ³n de Clientes</h1>
  <p class="mensaje" *ngIf="mensaje">{{ mensaje }}</p>

  <!-- FORMULARIO CREAR -->
  <div class="card">
    <h2 class="subtitle">â• Registrar Cliente</h2>

    <form [formGroup]="formCrear" (ngSubmit)="crearCliente()">
      <input class="inp" placeholder="Username" formControlName="username">
      <input class="inp" placeholder="TelÃ©fono" formControlName="telefono">
      <input class="inp" type="password" placeholder="ContraseÃ±a" formControlName="password">
      <button class="btn" type="submit">Crear Cliente</button>
    </form>
  </div>

  <h2 class="subtitle">ğŸ“‹ Lista de Clientes</h2>

  <table class="tabla">
    <thead>
      <tr>
        <th>ID</th>
        <th>Username</th>
        <th>TelÃ©fono</th>
        <th>Fecha Registro</th>
        <th>Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let c of clientes">
        <td>{{ c.id }}</td>
        <td>{{ c.username }}</td>
        <td>{{ c.telefono }}</td>
        <td>{{ c.fecha_registro | date:'short' }}</td>
        <td>
          <button class="btn-edit" (click)="editar(c)">Editar</button>
          <button class="btn-delete" (click)="eliminarCliente(c.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- FORMULARIO EDITAR -->
  <div class="card" *ngIf="editando">
    <h2 class="subtitle">âœ Editar Cliente</h2>

    <form [formGroup]="formEditar" (ngSubmit)="actualizarCliente()">

      <input class="inp" placeholder="Username" formControlName="username">
      <input class="inp" placeholder="TelÃ©fono" formControlName="telefono">
      <input class="inp" type="password" placeholder="Nueva contraseÃ±a" formControlName="password">

      <button class="btn" type="submit">Guardar Cambios</button>

      <!-- ğŸ”™ BOTÃ“N VOLVER -->
      <button
        type="button"
        class="btn"
        style="background: gray; margin-left: 10px;"
        (click)="cancelarEdicion()">
        Volver
      </button>

    </form>
  </div>

</div>
